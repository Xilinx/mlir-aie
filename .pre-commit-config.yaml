repos:
- repo: https://github.com/kynan/nbstripout
  rev: 0.8.0
  hooks:
    - id: nbstripout
      args: [--drop-empty-cells]

# Formatting hooks (run on pre-push to catch issues before CI)
- repo: https://github.com/pre-commit/mirrors-clang-format
  rev: v17.0.6
  hooks:
    - id: clang-format
      types_or: [c, c++]
      stages: [pre-push]

- repo: https://github.com/psf/black
  rev: 24.10.0
  hooks:
    - id: black
      stages: [pre-push]
      # Exclude generated files and third-party code
      exclude: |
        (?x)^(
          third_party/.*|
          build/.*|
          ironenv/.*
        )$
